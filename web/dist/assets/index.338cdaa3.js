import i from"./index.56f4864f.js";import x from"./index.f8602434.js";import{r as p}from"./index.acfe672b.js";import{a as g,r as y,a0 as k,ak as c,o as v,Q as w,R as l,X as s,b as r,u as C}from"./vue.5d8927be.js";import{_ as I}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.68a6dc43.js";import"./api.d42bee3a.js";function D(m){return p({url:"/api/system/role/",method:"get",params:m})}function T(){return p({url:"/api/system/column/get_models/",method:"get"})}const R={class:"columns-box columns-left"},B={class:"columns-box columns-center"},$={class:"columns-box columns-right"},q=g({__name:"index",setup(m){const u=y(null);let o=k({role:"",model:"",app:"",menu:""});const f=async(e,t)=>{const a=await D(e);t(a)},d=async(e,t)=>{const a=await T();a.data.forEach(n=>{n.showText=`${n.app}-${n.title}(${n.key})`}),t(a)},h=()=>{var e;if(o.role&&o.model&&o.app){(e=u.value)==null||e.fetchData(o);return}},_=(e,t)=>{e==="role"&&(o.role=t.id),e==="menu"&&(o.menu=t.id),e==="model"&&(o.model=t.key,o.app=t.app),h()};return(e,t)=>{const a=c("el-col"),n=c("el-row"),b=c("fs-page");return v(),w(b,{class:"columns"},{default:l(()=>[s(n,{class:"columns-el-row",gutter:10},{default:l(()=>[s(a,{span:6},{default:l(()=>[r("div",R,[s(i,{title:"角色",type:"role",showPagination:"",onFetchData:f,onItemClick:_})])]),_:1}),s(a,{span:8},{default:l(()=>[r("div",B,[s(i,{title:"模型表",type:"model",label:"showText",value:"key",onFetchData:d,onItemClick:_})])]),_:1}),s(a,{span:10},{default:l(()=>[r("div",$,[s(x,{ref_key:"columnsTableRef",ref:u,currentInfo:C(o)},null,8,["currentInfo"])])]),_:1})]),_:1})]),_:1})}}});const Q=I(q,[["__scopeId","data-v-ebd54b07"]]);export{Q as default};
