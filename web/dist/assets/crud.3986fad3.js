import{r as o,m as g,h as y,A as n,n as b,s as v}from"./index.acfe672b.js";import{d as l}from"./dictionary.d76d7a20.js";import{a as c}from"./authFunction.88002d4f.js";import{aD as x,m as i}from"./vue.5d8927be.js";import{M as _}from"./md5.b5efbca3.js";import{c as q}from"./commonCrud.a7c3bfac.js";const r="/api/project/domain/";function P(t){return o({url:"/api/project/appgroup/",method:"get",params:t})}function R(t){return o({url:r,method:"get",params:t})}function S(t){return o({url:r,method:"post",data:t})}function u(t){return o({url:r+t.id+"/",method:"put",data:t})}function C(t){return o({url:r+t+"/",method:"delete",data:{id:t}})}function D(t){return g({url:r+"export_data/",params:t,method:"get"})}const j=function({crudExpose:t}){const p=async e=>await R(e),d=async({form:e,row:s})=>(e.id=s.id,await u(e)),m=async({row:e})=>await C(e.id),h=async({form:e})=>await S(e),f=async e=>await D(e),w=y(),{systemConfig:a}=x(w);return i(()=>(console.log(a.value),a.value)),{crudOptions:{table:{remove:{confirmMessage:"是否删除该域名？"}},request:{pageRequest:p,addRequest:h,editRequest:d,delRequest:m},form:{initialForm:{password:i(()=>a.value["base.default_password"])}},actionbar:{buttons:{add:{show:c("user:Create")},export:{text:"导出",title:"导出",click(){return f(t.getSearchFormData())}}}},rowHandle:{fixed:"right",width:200,buttons:{view:{show:!1},edit:{iconRight:"Edit",type:"text",show:c("user:Update")},remove:{iconRight:"Delete",type:"text",show:c("user:Delete")}}},columns:{_index:{title:"序号",form:{show:!1},column:{type:"index",align:"center",width:"70px",columnSetDisabled:!0}},search:{title:"关键词",column:{show:!1},search:{show:!0,component:{props:{clearable:!0},placeholder:"请输入关键词"}},form:{show:!1,component:{props:{clearable:!0}}}},domain:{title:"域名",search:{show:!1},type:"input",column:{minWidth:100},form:{rules:[{required:!0,message:"姓名必填项"}],component:{span:12,placeholder:"请输入姓名"}}},group:{title:"分组",search:{show:!1},type:"dict-tree",dict:n({isTree:!0,url:"/api/project/appgroup/",value:"id",label:"name"}),column:{show:!1},form:{rules:[{required:!0,message:"必填项"}],component:{filterable:!0,placeholder:"请选择",props:{checkStrictly:!0,props:{value:"id",label:"name"}}}}},type:{title:"类型",search:{show:!0},type:"dict-select",dict:n({data:l("domain_type")}),form:{value:1,component:{span:12}},component:{props:{color:"auto"}}},status:{title:"锁定",search:{show:!0},type:"dict-radio",column:{component:{name:"fs-dict-switch",activeText:"",inactiveText:"",style:"--el-switch-on-color: var(--el-color-primary); --el-switch-off-color: #dcdfe6",onChange:b(e=>()=>{u(e.row).then(s=>{v(s.msg)})})}},dict:n({data:l("button_status_bool")}),form:{value:!0,component:{span:12}}},username:{title:"账号",search:{show:!1},type:"input",column:{show:!1},form:{component:{placeholder:"请输入账号"}}},password:{title:"密码",type:"password",column:{show:!1},form:{component:{span:12,showPassword:!0,placeholder:"请输入密码"}},valueResolve({form:e}){e.password&&(e.password=_.hashStr(e.password))}},...q({})}}}},k=Object.freeze(Object.defineProperty({__proto__:null,createCrudOptions:j},Symbol.toStringTag,{value:"Module"}));export{P as G,k as a,j as c};
