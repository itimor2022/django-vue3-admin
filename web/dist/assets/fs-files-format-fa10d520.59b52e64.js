import{a0 as v,a1 as k}from"./index.acfe672b.js";import{a as F,m as V,r as w,w as x,o,c as t,F as d,aa as p,b as g,W as y,O as u,Q as R,R as U,T as _}from"./vue.5d8927be.js";const B=F({name:"FsFilesFormat",props:{modelValue:{},color:{default:""},type:{default:"tag"},a:{},tag:{},buildUrl:{},buildUrls:{},getFileName:{}},setup(a,h){const{ui:i}=k(),f=V(()=>a.getFileName||function(e){return typeof e!="string"?(console.warn("获取文件名失败，请配置getFileName"),e):(e==null?void 0:e.lastIndexOf("/"))>=0?e.substring(e.lastIndexOf("/")+1):e});function n(e){return{url:void 0,value:e,name:f.value(e),color:a.color}}async function m(e){if(a.buildUrls){const l=e.map(s=>s.value),b=await a.buildUrls(l);for(let s=0;s<e.length;s++)e[s].url=b[s]}else if(a.buildUrl)for(let l of e)l.url=await a.buildUrl(l.value);else for(let l=0;l<e.length;l++)e[l].url=e[l].value}async function r(){if(a.modelValue==null||a.modelValue==="")return[];let e=[];if(typeof a.modelValue=="string")e=[n(a.modelValue)];else if(a.modelValue instanceof Array){e=[];for(const l of a.modelValue)e.push(n(l))}return await m(e),e}const c=w([]);return x(()=>a.modelValue,async()=>{c.value=await r()},{immediate:!0}),{ui:i,itemsRef:c}}}),C={class:"fs-files-format"},N=["href"],O=["href"];function D(a,h,i,f,n,m){return o(),t("div",C,[a.type==="text"?(o(!0),t(d,{key:0},p(a.itemsRef,r=>(o(),t("span",{key:r.url,class:"fs-files-item"},[g("a",u({href:r.url,target:"_blank",ref_for:!0},a.a),y(r.name),17,N)]))),128)):(o(!0),t(d,{key:1},p(a.itemsRef,r=>(o(),R(_(a.ui.tag.name),u({key:r.url,class:"fs-tag-item",type:r.color,ref_for:!0},a.tag),{default:U(()=>[g("a",u({href:r.url,target:"_blank",ref_for:!0},a.a),y(r.name),17,O)]),_:2},1040,["type"]))),128))])}const A=v(B,[["render",D]]);export{A as default};
