import{v as w,u as x,S as o,L as g}from"./index.acfe672b.js";import{a as u,aD as y,a0 as k,m as L,l as V,ak as l,o as N,c as G,X as n,R as d,b as s,W as t,V as i}from"./vue.5d8927be.js";import{_ as S}from"./_plugin-vue_export-helper.c27b6911.js";const $={class:"upgrade-dialog"},B={class:"upgrade-title"},E={class:"upgrade-title-warp"},I={class:"upgrade-title-warp-txt"},O={class:"upgrade-title-warp-version"},j={class:"upgrade-content"},z={class:"mt5"},A={class:"upgrade-content-desc mt5"},D={class:"upgrade-btn"},H=u({name:"layoutUpgrade"}),R=u({...H,setup(M){const{t:r}=w.useI18n(),_=x(),{themeConfig:m}=y(_),e=k({isUpgrade:!1,version:"3.0.0",isLoading:!1,btnTxt:""}),f=L(()=>m.value),v=()=>{e.isUpgrade=!1,o.set("isUpgrade",!1)},b=()=>{e.isLoading=!0,e.btnTxt=r("message.upgrade.btnTwoLoading"),setTimeout(()=>{g.clear(),window.location.reload(),g.set("version",e.version),o.set("isUpgrade",!1)},2e3)},h=()=>{(o.get("isUpgrade")===!1?o.get("isUpgrade"):!0)&&setTimeout(()=>{e.isUpgrade=!0},2e3)};return V(()=>{h(),setTimeout(()=>{e.btnTxt=r("message.upgrade.btnTwo")},200)}),(a,c)=>{const T=l("el-link"),p=l("el-button"),U=l("el-dialog");return N(),G("div",$,[n(U,{modelValue:e.isUpgrade,"onUpdate:modelValue":c[0]||(c[0]=C=>e.isUpgrade=C),width:"300px","destroy-on-close":"","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},{default:d(()=>[s("div",B,[s("div",E,[s("span",I,t(a.$t("message.upgrade.title")),1),s("span",O,"v"+t(e.version),1)])]),s("div",j,[i(t(f.value.globalTitle)+" "+t(a.$t("message.upgrade.msg"))+" ",1),s("div",z,[n(T,{type:"primary",class:"font12",href:"https://gitee.com/huge-dream/django-vue3-admin/blob/master/CHANGELOG.md",target:"_black"},{default:d(()=>[i(" CHANGELOG.md ")]),_:1})]),s("div",A,t(a.$t("message.upgrade.desc")),1)]),s("div",D,[n(p,{round:"",size:"default",type:"info",text:"",onClick:v},{default:d(()=>[i(t(a.$t("message.upgrade.btnOne")),1)]),_:1}),n(p,{type:"primary",round:"",size:"default",onClick:b,loading:e.isLoading},{default:d(()=>[i(t(e.btnTxt),1)]),_:1},8,["loading"])])]),_:1},8,["modelValue"])])}}});const F=S(R,[["__scopeId","data-v-7ba0bd61"]]);export{F as default};
