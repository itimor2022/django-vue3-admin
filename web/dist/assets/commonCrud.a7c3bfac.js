import{q as D,A as g}from"./index.acfe672b.js";import{a as k,r as v,w as b,o as y,c as T,W as C,s as Y}from"./vue.5d8927be.js";const x=k({__name:"index",props:{modelValue:{type:Number||String}},setup(a){const i=a,s=v();return b(()=>i.modelValue,async l=>{const r=await D().getParentDeptById(l);if(r!=null&&r.nodes){let n="";console.log(r),r.nodes.forEach((m,d)=>{n+=d>0?`/${m.name}`:m.name}),s.value=n}},{immediate:!0}),(l,c)=>(y(),T("div",null,C(s.value),1))}}),F=a=>{var i,s,l,c,r,n,m,d,h,p,f,w,u,_;return{dept_belong_id:{title:"所属部门",type:"dict-tree",search:{show:((i=a.dept_belong_id)==null?void 0:i.search)||!1},dict:g({url:"/api/system/dept/all_dept/",isTree:!0,value:"id",label:"name",children:"children"}),column:{align:"center",width:300,show:((s=a.dept_belong_id)==null?void 0:s.table)||!1,component:{name:Y(x),vModel:"modelValue"}},form:{show:((l=a.dept_belong_id)==null?void 0:l.form)||!1,component:{multiple:!1,clearable:!0,props:{checkStrictly:!0,props:{label:"name",value:"id"}}},helper:"默认不填则为当前创建用户的部门ID"}},description:{title:"备注",search:{show:((c=a.description)==null?void 0:c.search)||!1},type:"textarea",column:{width:100,show:((r=a.description)==null?void 0:r.table)||!1},form:{show:((n=a.description)==null?void 0:n.form)||!1,component:{placeholder:"请输入内容",showWordLimit:!0,maxlength:"200"}},viewForm:{show:!0}},modifier_name:{title:"修改人",search:{show:((m=a.modifier_name)==null?void 0:m.search)||!1},column:{width:100,show:((d=a.modifier_name)==null?void 0:d.table)||!1},form:{show:!1},viewForm:{show:!0}},creator_name:{title:"创建人",search:{show:((h=a.creator_name)==null?void 0:h.search)||!1},column:{width:100,show:((p=a.creator_name)==null?void 0:p.table)||!1},form:{show:!1},viewForm:{show:!0}},update_datetime:{title:"更新时间",type:"datetime",search:{show:((f=a.update_datetime)==null?void 0:f.search)||!1,col:{span:8},component:{type:"datetimerange",props:{"start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD HH:mm:ss","picker-options":{shortcuts:[{text:"最近一周",onClick(t){const o=new Date,e=new Date;e.setTime(e.getTime()-3600*1e3*24*7),t.$emit("pick",[e,o])}},{text:"最近一个月",onClick(t){const o=new Date,e=new Date;e.setTime(e.getTime()-3600*1e3*24*30),t.$emit("pick",[e,o])}},{text:"最近三个月",onClick(t){const o=new Date,e=new Date;e.setTime(e.getTime()-3600*1e3*24*90),t.$emit("pick",[e,o])}}]}}},valueResolve(t){const{key:o,value:e}=t;e&&(t.form.update_datetime_after=e[0],t.form.update_datetime_before=e[1])}},column:{width:160,show:((w=a.update_datetime)==null?void 0:w.table)||!1},form:{show:!1},viewForm:{show:!0}},create_datetime:{title:"创建时间",type:"datetime",search:{show:((u=a.create_datetime)==null?void 0:u.search)||!1,col:{span:8},component:{type:"datetimerange",props:{"start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD HH:mm:ss","picker-options":{shortcuts:[{text:"最近一周",onClick(t){const o=new Date,e=new Date;e.setTime(e.getTime()-3600*1e3*24*7),t.$emit("pick",[e,o])}},{text:"最近一个月",onClick(t){const o=new Date,e=new Date;e.setTime(e.getTime()-3600*1e3*24*30),t.$emit("pick",[e,o])}},{text:"最近三个月",onClick(t){const o=new Date,e=new Date;e.setTime(e.getTime()-3600*1e3*24*90),t.$emit("pick",[e,o])}}]}}},valueResolve(t){const{key:o,value:e}=t;e&&(t.form.create_datetime_after=e[0],t.form.create_datetime_before=e[1])}},column:{width:160,show:((_=a.create_datetime)==null?void 0:_.table)||!1},form:{show:!1},viewForm:{show:!0}}}};export{F as c};
