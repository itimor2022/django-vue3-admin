import{r,h as d,A as h}from"./index.acfe672b.js";import{a as s}from"./authFunction.88002d4f.js";import{aD as f,m as i}from"./vue.5d8927be.js";import{c as w}from"./commonCrud.a7c3bfac.js";const a="/api/project/app/";function S(e){return r({url:"/api/project/appgroup/",method:"get",params:e})}function g(e){return r({url:a,method:"get",params:e})}function y(e){return r({url:a,method:"post",data:e})}function b(e){return r({url:a+e.id+"/",method:"put",data:e})}function q(e){return r({url:a+e+"/",method:"delete",data:{id:e}})}const v=function({crudExpose:e}){const l=async t=>await g(t),u=async({form:t,row:o})=>(t.id=o.id,await b(t)),c=async({row:t})=>await q(t.id),p=async({form:t})=>await y(t),m=d(),{systemConfig:n}=f(m);return i(()=>(console.log(n.value),n.value)),{crudOptions:{table:{remove:{confirmMessage:"是否删除该应用？"}},request:{pageRequest:l,addRequest:p,editRequest:u,delRequest:c},form:{initialForm:{password:i(()=>n.value["base.default_password"])}},actionbar:{buttons:{add:{show:s("user:Create")}}},rowHandle:{fixed:"right",width:200,buttons:{view:{text:"查看",type:"text",iconRight:"View",show:s("messageCenter:Search"),click({index:t,row:o}){e.openView({index:t,row:o}),tabActivted.value==="receive"&&(viewRequest({row:o}),e.doRefresh())}},edit:{iconRight:"Edit",type:"text",show:s("user:Update")},remove:{iconRight:"Delete",type:"text",show:s("user:Delete")}}},columns:{_index:{title:"序号",form:{show:!1},column:{type:"index",align:"center",width:"70px",columnSetDisabled:!0}},search:{title:"关键词",column:{show:!1},search:{show:!0,component:{props:{clearable:!0},placeholder:"请输入关键词"}},form:{show:!1,component:{props:{clearable:!0}}}},name:{title:"应用名",search:{show:!1},type:"input",column:{minWidth:100},form:{rules:[{required:!0,message:"应用名必填项"}],component:{placeholder:"请输入应用名"}}},use:{title:"用处",search:{show:!1},type:"input",column:{minWidth:100},form:{rules:[{required:!0,message:"用处必填项"}],component:{placeholder:"请输入用处"}}},group:{title:"所属分组",search:{disabled:!0},type:"dict-tree",dict:h({isTree:!0,url:"/api/project/appgroup/",value:"id",label:"name"}),column:{minWidth:150},form:{rules:[{required:!0,message:"必填项"}],component:{filterable:!0,placeholder:"请选择",props:{checkStrictly:!0,props:{value:"id",label:"name"}}}}},user:{title:"负责人",search:{show:!1},type:"input",column:{minWidth:100},form:{rules:[{required:!0,message:"负责人必填项"}],component:{placeholder:"请输入负责人"}}},contact:{title:"联系方式",search:{show:!1},type:"input",column:{minWidth:100},form:{rules:[{required:!0,message:"联系方式必填项"}],component:{placeholder:"请输入联系方式"}}},bt_domain:{title:"宝塔域名",search:{show:!1},type:"input",column:{minWidth:100,show:!1},form:{rules:[{required:!1,message:"宝塔域名必填项"}],component:{placeholder:"请输入宝塔域名"}}},bt_user:{title:"宝塔账号",search:{show:!1},type:"input",column:{minWidth:100,show:!1},form:{rules:[{required:!1,message:"宝塔账号必填项"}],component:{placeholder:"请输入宝塔账号"}}},bt_password:{title:"宝塔密码",search:{show:!1},type:"input",column:{minWidth:100,show:!1},form:{rules:[{required:!1,message:"宝塔账号必填项"}],component:{placeholder:"请输入宝塔账号"}}},...w({})}}}},W=Object.freeze(Object.defineProperty({__proto__:null,createCrudOptions:v},Symbol.toStringTag,{value:"Module"}));export{S as G,W as a,v as c};
