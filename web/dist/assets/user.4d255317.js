import{v as re,f as x,u as ie,L as C,a9 as ce,aa as ue,_ as A,ab as B,E as de,e as me,t as fe,S as ge,o as _e}from"./index.acfe672b.js";import{a as j,aI as be,aD as P,r as q,a0 as he,m as pe,l as we,ak as g,o as M,c as O,X as n,R as o,V as m,W as b,b as i,L as F,u as t,U as N,M as ve,aA as D}from"./vue.5d8927be.js";import{_ as Ce}from"./_plugin-vue_export-helper.c27b6911.js";const V=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],_=(()=>{if(typeof document>"u")return!1;const l=V[0],r={};for(const s of V)if((s==null?void 0:s[1])in document){for(const[d,v]of s.entries())r[l[d]]=v;return r}return!1})(),U={change:_.fullscreenchange,error:_.fullscreenerror};let c={request(l=document.documentElement,r){return new Promise((s,h)=>{const d=()=>{c.off("change",d),s()};c.on("change",d);const v=l[_.requestFullscreen](r);v instanceof Promise&&v.then(d).catch(h)})},exit(){return new Promise((l,r)=>{if(!c.isFullscreen){l();return}const s=()=>{c.off("change",s),l()};c.on("change",s);const h=document[_.exitFullscreen]();h instanceof Promise&&h.then(s).catch(r)})},toggle(l,r){return c.isFullscreen?c.exit():c.request(l,r)},onchange(l){c.on("change",l)},onerror(l){c.on("error",l)},on(l,r){const s=U[l];s&&document.addEventListener(s,r,!1)},off(l,r){const s=U[l];s&&document.removeEventListener(s,r,!1)},raw:_};Object.defineProperties(c,{isFullscreen:{get:()=>!!document[_.fullscreenElement]},element:{enumerable:!0,get:()=>document[_.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[_.fullscreenEnabled]}});_||(c={isEnabled:!1});const y=c,H="/assets/headerImage.36a0f86b.png",Se={class:"layout-navbars-breadcrumb-user-icon"},ke=["title"],Ee={class:"layout-navbars-breadcrumb-user-icon"},Fe=["title"],ye=["title"],ze={class:"layout-navbars-breadcrumb-user-icon"},Ie=["title"],$e={key:0},Be=["src"],Pe={class:"layout-navbars-breadcrumb-user-link"},Me={key:0},Oe=["src"],Re=j({name:"layoutBreadcrumbUser"}),Te=j({...Re,setup(l){const r=D(()=>A(()=>import("./userNews.6b579fe9.js"),["assets/userNews.6b579fe9.js","assets/vue.5d8927be.js","assets/index.acfe672b.js","assets/index.5945f24a.css","assets/_plugin-vue_export-helper.c27b6911.js","assets/userNews.6df9a0ad.css"])),s=D(()=>A(()=>import("./search.07c935b4.js"),["assets/search.07c935b4.js","assets/vue.5d8927be.js","assets/index.acfe672b.js","assets/index.5945f24a.css","assets/_plugin-vue_export-helper.c27b6911.js","assets/search.2a7a69f2.css"])),{locale:h,t:d}=re.useI18n(),v=be(),W=x(),X=ie(),{userInfos:k}=P(W),{themeConfig:S}=P(X),R=q(),u=he({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:"large"}),G=pe(()=>{let e="";const{layout:f,isClassicSplitMenu:a}=S.value;return["defaults","columns"].includes(f)||f==="classic"&&!a?e="1":e="",e}),{isSocketOpen:p}=P(x()),T=q(),J=()=>{var e,f;p.value||(B.is_reonnect=!0,B.reconnect_current=1,B.reconnect()),(f=(e=t(T).popperRef)==null?void 0:e.delayHide)==null||f.call(e)},K=()=>{if(!y.isEnabled)return de.warning("暂不不支持全屏"),!1;y.toggle(),y.on("change",()=>{y.isFullscreen?u.isScreenfull=!0:u.isScreenfull=!1})},Q=()=>{me.emit("openSetingsDrawer")},Y=e=>{e==="logOut"?fe({closeOnClickModal:!1,closeOnPressEscape:!1,title:d("message.user.logOutTitle"),message:d("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:d("message.user.logOutConfirm"),cancelButtonText:d("message.user.logOutCancel"),buttonSize:"default",beforeClose:(f,a,w)=>{f==="confirm"?(a.confirmButtonLoading=!0,a.confirmButtonText=d("message.user.logOutExit"),setTimeout(()=>{w(),setTimeout(()=>{a.confirmButtonLoading=!1},300)},700)):w()}}).then(async()=>{ge.clear(),window.location.reload()}).catch(()=>{}):e==="wareHouse"?window.open("https://gitee.com/huge-dream/django-vue3-admin"):v.push(e)},Z=()=>{R.value.openSearch()},ee=e=>{C.remove("themeConfig"),S.value.globalComponentSize=e,C.set("themeConfig",S.value),E("globalComponentSize","disabledSize"),window.location.reload()},ne=e=>{C.remove("themeConfig"),S.value.globalI18n=e,C.set("themeConfig",S.value),h.value=e,_e.useTitle(),E("globalI18n","disabledI18n")},E=(e,f)=>{u[f]=C.get("themeConfig")[e]};we(()=>{C.get("themeConfig")&&(E("globalComponentSize","disabledSize"),E("globalI18n","disabledI18n"))});const L=ce();return(e,f)=>{const a=g("el-dropdown-item"),w=g("el-dropdown-menu"),z=g("el-dropdown"),oe=g("ele-Search"),I=g("el-icon"),se=g("ele-Bell"),$=g("el-badge"),te=g("el-popover"),le=g("el-popconfirm"),ae=g("ele-ArrowDown");return M(),O("div",{class:"layout-navbars-breadcrumb-user pr15",style:ve({flex:G.value})},[n(z,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:ee},{dropdown:o(()=>[n(w,null,{default:o(()=>[n(a,{command:"large",disabled:u.disabledSize==="large"},{default:o(()=>[m(b(e.$t("message.user.dropdownLarge")),1)]),_:1},8,["disabled"]),n(a,{command:"default",disabled:u.disabledSize==="default"},{default:o(()=>[m(b(e.$t("message.user.dropdownDefault")),1)]),_:1},8,["disabled"]),n(a,{command:"small",disabled:u.disabledSize==="small"},{default:o(()=>[m(b(e.$t("message.user.dropdownSmall")),1)]),_:1},8,["disabled"])]),_:1})]),default:o(()=>[i("div",Se,[i("i",{class:"iconfont icon-ziti",title:e.$t("message.user.title0")},null,8,ke)])]),_:1}),n(z,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:ne},{dropdown:o(()=>[n(w,null,{default:o(()=>[n(a,{command:"zh-cn",disabled:u.disabledI18n==="zh-cn"},{default:o(()=>[m("简体中文")]),_:1},8,["disabled"]),n(a,{command:"en",disabled:u.disabledI18n==="en"},{default:o(()=>[m("English")]),_:1},8,["disabled"]),n(a,{command:"zh-tw",disabled:u.disabledI18n==="zh-tw"},{default:o(()=>[m("繁體中文")]),_:1},8,["disabled"])]),_:1})]),default:o(()=>[i("div",Ee,[i("i",{class:F(["iconfont",u.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("message.user.title1")},null,10,Fe)])]),_:1}),i("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:Z},[n(I,{title:e.$t("message.user.title2")},{default:o(()=>[n(oe)]),_:1},8,["title"])]),i("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:Q},[i("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,ye)]),i("div",ze,[n(te,{placement:"bottom",trigger:"click",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:o(()=>[n($,{value:t(L).unread,hidden:t(L).unread===0},{default:o(()=>[n(I,{title:e.$t("message.user.title4")},{default:o(()=>[n(se)]),_:1},8,["title"])]),_:1},8,["value","hidden"])]),default:o(()=>[n(t(r))]),_:1})]),i("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:K},[i("i",{class:F(["iconfont",u.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:u.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,Ie)]),i("div",null,[t(p)?N("",!0):(M(),O("span",$e,[n(le,{width:"250",ref_key:"onlinePopoverRef",ref:T,"confirm-button-text":e.$t("message.user.retry"),icon:t(ue),trigger:"hover","icon-color":"#626AEF",title:e.$t("message.user.onlinePrompt"),onConfirm:J},{reference:o(()=>[n($,{"is-dot":"",class:F(["item",{"online-status":t(p),"online-down":!t(p)}])},{default:o(()=>[i("img",{src:t(k).avatar||t(H),class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Be)]),_:1},8,["class"])]),_:1},8,["confirm-button-text","icon","title"])]))]),n(z,{"show-timeout":70,"hide-timeout":50,onCommand:Y},{dropdown:o(()=>[n(w,null,{default:o(()=>[n(a,{command:"/home"},{default:o(()=>[m(b(e.$t("message.user.dropdown1")),1)]),_:1}),n(a,{command:"/personal"},{default:o(()=>[m(b(e.$t("message.user.dropdown2")),1)]),_:1}),n(a,{command:"wareHouse"},{default:o(()=>[m(b(e.$t("message.user.dropdown6")),1)]),_:1}),n(a,{divided:"",command:"logOut"},{default:o(()=>[m(b(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:o(()=>[i("span",Pe,[t(p)?(M(),O("span",Me,[n($,{"is-dot":"",class:F(["item",{"online-status":t(p),"online-down":!t(p)}])},{default:o(()=>[i("img",{src:t(k).avatar||t(H),class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Oe)]),_:1},8,["class"])])):N("",!0),m(" "+b(t(k).username===""?"common":t(k).username)+" ",1),n(I,{class:"el-icon--right"},{default:o(()=>[n(ae)]),_:1})])]),_:1}),n(t(s),{ref_key:"searchRef",ref:R},null,512)],4)}}});const qe=Ce(Te,[["__scopeId","data-v-f05dce90"]]);export{qe as default};
