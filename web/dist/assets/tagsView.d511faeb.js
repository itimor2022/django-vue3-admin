import{b as Ft,u as mn,j as vn,o as qt,e as ye,a7 as wn,_ as bn,S as Ee,E as yn,a8 as Xt}from"./index.acfe672b.js";import{a as en,r as Ge,aD as Bt,aC as En,aI as _n,a0 as Dn,m as gt,I as Sn,$ as Tn,al as Cn,l as In,aK as An,w as On,ak as Yt,o as he,c as Le,X as mt,R as Vn,b as Ht,L as vt,F as Wt,aa as xn,a5 as Re,U as Ne,Q as wt,W as Pn,u as Ln,aA as Rn,n as bt}from"./vue.5d8927be.js";import{_ as Nn}from"./_plugin-vue_export-helper.c27b6911.js";/**!
* Sortable 1.15.2
* @author	RubaXa   <trash@rubaxa.org>
* @author	owenm    <owen23355@gmail.com>
* @license MIT
*/function Ut(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,n)}return t}function re(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ut(Object(t),!0).forEach(function(n){Mn(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Ut(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function et(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?et=function(e){return typeof e}:et=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(i)}function Mn(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function fe(){return fe=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},fe.apply(this,arguments)}function kn(i,e){if(i==null)return{};var t={},n=Object.keys(i),a,r;for(r=0;r<n.length;r++)a=n[r],!(e.indexOf(a)>=0)&&(t[a]=i[a]);return t}function Fn(i,e){if(i==null)return{};var t=kn(i,e),n,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}var qn="1.15.2";function ce(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var de=ce(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),We=ce(/Edge/i),$t=ce(/firefox/i),qe=ce(/safari/i)&&!ce(/chrome/i)&&!ce(/android/i),tn=ce(/iP(ad|od|hone)/i),nn=ce(/chrome/i)&&ce(/android/i),an={capture:!1,passive:!1};function A(i,e,t){i.addEventListener(e,t,!de&&an)}function T(i,e,t){i.removeEventListener(e,t,!de&&an)}function rt(i,e){if(e){if(e[0]===">"&&(e=e.substring(1)),i)try{if(i.matches)return i.matches(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e)}catch{return!1}return!1}}function Xn(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function Z(i,e,t,n){if(i){t=t||document;do{if(e!=null&&(e[0]===">"?i.parentNode===t&&rt(i,e):rt(i,e))||n&&i===t)return i;if(i===t)break}while(i=Xn(i))}return null}var jt=/\s+/g;function U(i,e,t){if(i&&e)if(i.classList)i.classList[t?"add":"remove"](e);else{var n=(" "+i.className+" ").replace(jt," ").replace(" "+e+" "," ");i.className=(n+(t?" "+e:"")).replace(jt," ")}}function b(i,e,t){var n=i&&i.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(t=i.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function Ve(i,e){var t="";if(typeof i=="string")t=i;else do{var n=b(i,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(i=i.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function rn(i,e,t){if(i){var n=i.getElementsByTagName(e),a=0,r=n.length;if(t)for(;a<r;a++)t(n[a],a);return n}return[]}function ae(){var i=document.scrollingElement;return i||document.documentElement}function M(i,e,t,n,a){if(!(!i.getBoundingClientRect&&i!==window)){var r,s,c,f,d,m,g;if(i!==window&&i.parentNode&&i!==ae()?(r=i.getBoundingClientRect(),s=r.top,c=r.left,f=r.bottom,d=r.right,m=r.height,g=r.width):(s=0,c=0,f=window.innerHeight,d=window.innerWidth,m=window.innerHeight,g=window.innerWidth),(e||t)&&i!==window&&(a=a||i.parentNode,!de))do if(a&&a.getBoundingClientRect&&(b(a,"transform")!=="none"||t&&b(a,"position")!=="static")){var E=a.getBoundingClientRect();s-=E.top+parseInt(b(a,"border-top-width")),c-=E.left+parseInt(b(a,"border-left-width")),f=s+r.height,d=c+r.width;break}while(a=a.parentNode);if(n&&i!==window){var D=Ve(a||i),u=D&&D.a,C=D&&D.d;D&&(s/=C,c/=u,g/=u,m/=C,f=s+m,d=c+g)}return{top:s,left:c,bottom:f,right:d,width:g,height:m}}}function zt(i,e,t){for(var n=me(i,!0),a=M(i)[e];n;){var r=M(n)[t],s=void 0;if(t==="top"||t==="left"?s=a>=r:s=a<=r,!s)return n;if(n===ae())break;n=me(n,!1)}return!1}function xe(i,e,t,n){for(var a=0,r=0,s=i.children;r<s.length;){if(s[r].style.display!=="none"&&s[r]!==y.ghost&&(n||s[r]!==y.dragged)&&Z(s[r],t.draggable,i,!1)){if(a===e)return s[r];a++}r++}return null}function Lt(i,e){for(var t=i.lastElementChild;t&&(t===y.ghost||b(t,"display")==="none"||e&&!rt(t,e));)t=t.previousElementSibling;return t||null}function z(i,e){var t=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==y.clone&&(!e||rt(i,e))&&t++;return t}function Gt(i){var e=0,t=0,n=ae();if(i)do{var a=Ve(i),r=a.a,s=a.d;e+=i.scrollLeft*r,t+=i.scrollTop*s}while(i!==n&&(i=i.parentNode));return[e,t]}function Bn(i,e){for(var t in i)if(i.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===i[t][n])return Number(t)}return-1}function me(i,e){if(!i||!i.getBoundingClientRect)return ae();var t=i,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=b(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return ae();if(n||e)return t;n=!0}}while(t=t.parentNode);return ae()}function Yn(i,e){if(i&&e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function yt(i,e){return Math.round(i.top)===Math.round(e.top)&&Math.round(i.left)===Math.round(e.left)&&Math.round(i.height)===Math.round(e.height)&&Math.round(i.width)===Math.round(e.width)}var Xe;function on(i,e){return function(){if(!Xe){var t=arguments,n=this;t.length===1?i.call(n,t[0]):i.apply(n,t),Xe=setTimeout(function(){Xe=void 0},e)}}}function Hn(){clearTimeout(Xe),Xe=void 0}function sn(i,e,t){i.scrollLeft+=e,i.scrollTop+=t}function ln(i){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(i).cloneNode(!0):t?t(i).clone(!0)[0]:i.cloneNode(!0)}function un(i,e,t){var n={};return Array.from(i.children).forEach(function(a){var r,s,c,f;if(!(!Z(a,e.draggable,i,!1)||a.animated||a===t)){var d=M(a);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,d.left),n.top=Math.min((s=n.top)!==null&&s!==void 0?s:1/0,d.top),n.right=Math.max((c=n.right)!==null&&c!==void 0?c:-1/0,d.right),n.bottom=Math.max((f=n.bottom)!==null&&f!==void 0?f:-1/0,d.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var j="Sortable"+new Date().getTime();function Wn(){var i=[],e;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(b(a,"display")==="none"||a===y.ghost)){i.push({target:a,rect:M(a)});var r=re({},i[i.length-1].rect);if(a.thisAnimationDuration){var s=Ve(a,!0);s&&(r.top-=s.f,r.left-=s.e)}a.fromRect=r}})}},addAnimationState:function(n){i.push(n)},removeAnimationState:function(n){i.splice(Bn(i,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,s=0;i.forEach(function(c){var f=0,d=c.target,m=d.fromRect,g=M(d),E=d.prevFromRect,D=d.prevToRect,u=c.rect,C=Ve(d,!0);C&&(g.top-=C.f,g.left-=C.e),d.toRect=g,d.thisAnimationDuration&&yt(E,g)&&!yt(m,g)&&(u.top-g.top)/(u.left-g.left)===(m.top-g.top)/(m.left-g.left)&&(f=$n(u,E,D,a.options)),yt(g,m)||(d.prevFromRect=m,d.prevToRect=g,f||(f=a.options.animation),a.animate(d,u,g,f)),f&&(r=!0,s=Math.max(s,f),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},f),d.thisAnimationDuration=f)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),i=[]},animate:function(n,a,r,s){if(s){b(n,"transition",""),b(n,"transform","");var c=Ve(this.el),f=c&&c.a,d=c&&c.d,m=(a.left-r.left)/(f||1),g=(a.top-r.top)/(d||1);n.animatingX=!!m,n.animatingY=!!g,b(n,"transform","translate3d("+m+"px,"+g+"px,0)"),this.forRepaintDummy=Un(n),b(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),b(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){b(n,"transition",""),b(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function Un(i){return i.offsetWidth}function $n(i,e,t,n){return Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var Ce=[],Et={initializeByDefault:!0},Ue={mount:function(e){for(var t in Et)Et.hasOwnProperty(t)&&!(t in e)&&(e[t]=Et[t]);Ce.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ce.push(e)},pluginEvent:function(e,t,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var r=e+"Global";Ce.forEach(function(s){t[s.pluginName]&&(t[s.pluginName][r]&&t[s.pluginName][r](re({sortable:t},n)),t.options[s.pluginName]&&t[s.pluginName][e]&&t[s.pluginName][e](re({sortable:t},n)))})},initializePlugins:function(e,t,n,a){Ce.forEach(function(c){var f=c.pluginName;if(!(!e.options[f]&&!c.initializeByDefault)){var d=new c(e,t,e.options);d.sortable=e,d.options=e.options,e[f]=d,fe(n,d.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var s=this.modifyOption(e,r,e.options[r]);typeof s<"u"&&(e.options[r]=s)}},getEventProperties:function(e,t){var n={};return Ce.forEach(function(a){typeof a.eventProperties=="function"&&fe(n,a.eventProperties.call(t[a.pluginName],e))}),n},modifyOption:function(e,t,n){var a;return Ce.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(a=r.optionListeners[t].call(e[r.pluginName],n))}),a}};function jn(i){var e=i.sortable,t=i.rootEl,n=i.name,a=i.targetEl,r=i.cloneEl,s=i.toEl,c=i.fromEl,f=i.oldIndex,d=i.newIndex,m=i.oldDraggableIndex,g=i.newDraggableIndex,E=i.originalEvent,D=i.putSortable,u=i.extraEventProperties;if(e=e||t&&t[j],!!e){var C,I=e.options,G="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!de&&!We?C=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(C=document.createEvent("Event"),C.initEvent(n,!0,!0)),C.to=s||t,C.from=c||t,C.item=a||t,C.clone=r,C.oldIndex=f,C.newIndex=d,C.oldDraggableIndex=m,C.newDraggableIndex=g,C.originalEvent=E,C.pullMode=D?D.lastPutMode:void 0;var R=re(re({},u),Ue.getEventProperties(n,e));for(var L in R)C[L]=R[L];t&&t.dispatchEvent(C),I[G]&&I[G].call(e,C)}}var zn=["evt"],H=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,r=Fn(n,zn);Ue.pluginEvent.bind(y)(e,t,re({dragEl:p,parentEl:P,ghostEl:S,rootEl:V,nextEl:Se,lastDownEl:tt,cloneEl:x,cloneHidden:ge,dragStarted:Me,putSortable:F,activeSortable:y.active,originalEvent:a,oldIndex:Oe,oldDraggableIndex:Be,newIndex:$,newDraggableIndex:pe,hideGhostForTarget:hn,unhideGhostForTarget:pn,cloneNowHidden:function(){ge=!0},cloneNowShown:function(){ge=!1},dispatchSortableEvent:function(c){Y({sortable:t,name:c,originalEvent:a})}},r))};function Y(i){jn(re({putSortable:F,cloneEl:x,targetEl:p,rootEl:V,oldIndex:Oe,oldDraggableIndex:Be,newIndex:$,newDraggableIndex:pe},i))}var p,P,S,V,Se,tt,x,ge,Oe,$,Be,pe,Ke,F,Ae=!1,ot=!1,st=[],_e,Q,_t,Dt,Kt,Qt,Me,Ie,Ye,He=!1,Qe=!1,nt,B,St=[],Ot=!1,lt=[],ct=typeof document<"u",Ze=tn,Zt=We||de?"cssFloat":"float",Gn=ct&&!nn&&!tn&&"draggable"in document.createElement("div"),cn=function(){if(ct){if(de)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),fn=function(e,t){var n=b(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=xe(e,0,t),s=xe(e,1,t),c=r&&b(r),f=s&&b(s),d=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+M(r).width,m=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+M(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&c.float&&c.float!=="none"){var g=c.float==="left"?"left":"right";return s&&(f.clear==="both"||f.clear===g)?"vertical":"horizontal"}return r&&(c.display==="block"||c.display==="flex"||c.display==="table"||c.display==="grid"||d>=a&&n[Zt]==="none"||s&&n[Zt]==="none"&&d+m>a)?"vertical":"horizontal"},Kn=function(e,t,n){var a=n?e.left:e.top,r=n?e.right:e.bottom,s=n?e.width:e.height,c=n?t.left:t.top,f=n?t.right:t.bottom,d=n?t.width:t.height;return a===c||r===f||a+s/2===c+d/2},Qn=function(e,t){var n;return st.some(function(a){var r=a[j].options.emptyInsertThreshold;if(!(!r||Lt(a))){var s=M(a),c=e>=s.left-r&&e<=s.right+r,f=t>=s.top-r&&t<=s.bottom+r;if(c&&f)return n=a}}),n},dn=function(e){function t(r,s){return function(c,f,d,m){var g=c.options.group.name&&f.options.group.name&&c.options.group.name===f.options.group.name;if(r==null&&(s||g))return!0;if(r==null||r===!1)return!1;if(s&&r==="clone")return r;if(typeof r=="function")return t(r(c,f,d,m),s)(c,f,d,m);var E=(s?c:f).options.group.name;return r===!0||typeof r=="string"&&r===E||r.join&&r.indexOf(E)>-1}}var n={},a=e.group;(!a||et(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=t(a.pull,!0),n.checkPut=t(a.put),n.revertClone=a.revertClone,e.group=n},hn=function(){!cn&&S&&b(S,"display","none")},pn=function(){!cn&&S&&b(S,"display","")};ct&&!nn&&document.addEventListener("click",function(i){if(ot)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),ot=!1,!1},!0);var De=function(e){if(p){e=e.touches?e.touches[0]:e;var t=Qn(e.clientX,e.clientY);if(t){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[j]._onDragOver(n)}}},Zn=function(e){p&&p.parentNode[j]._isOutsideThisEl(e.target)};function y(i,e){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=e=fe({},e),i[j]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return fn(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,c){s.setData("Text",c.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:y.supportPointer!==!1&&"PointerEvent"in window&&!qe,emptyInsertThreshold:5};Ue.initializePlugins(this,i,t);for(var n in t)!(n in e)&&(e[n]=t[n]);dn(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:Gn,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?A(i,"pointerdown",this._onTapStart):(A(i,"mousedown",this._onTapStart),A(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(A(i,"dragover",this),A(i,"dragenter",this)),st.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),fe(this,Wn())}y.prototype={constructor:y,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ie=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,p):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,a=this.options,r=a.preventOnFilter,s=e.type,c=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,f=(c||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||f,m=a.filter;if(oi(n),!p&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||a.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&qe&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=Z(f,a.draggable,n,!1),!(f&&f.animated)&&tt!==f)){if(Oe=z(f),Be=z(f,a.draggable),typeof m=="function"){if(m.call(this,e,f,this)){Y({sortable:t,rootEl:d,name:"filter",targetEl:f,toEl:n,fromEl:n}),H("filter",t,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(m&&(m=m.split(",").some(function(g){if(g=Z(d,g.trim(),n,!1),g)return Y({sortable:t,rootEl:g,name:"filter",targetEl:f,fromEl:n,toEl:n}),H("filter",t,{evt:e}),!0}),m)){r&&e.cancelable&&e.preventDefault();return}a.handle&&!Z(d,a.handle,n,!1)||this._prepareDragStart(e,c,f)}}},_prepareDragStart:function(e,t,n){var a=this,r=a.el,s=a.options,c=r.ownerDocument,f;if(n&&!p&&n.parentNode===r){var d=M(n);if(V=r,p=n,P=p.parentNode,Se=p.nextSibling,tt=n,Ke=s.group,y.dragged=p,_e={target:p,clientX:(t||e).clientX,clientY:(t||e).clientY},Kt=_e.clientX-d.left,Qt=_e.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,p.style["will-change"]="all",f=function(){if(H("delayEnded",a,{evt:e}),y.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!$t&&a.nativeDraggable&&(p.draggable=!0),a._triggerDragStart(e,t),Y({sortable:a,name:"choose",originalEvent:e}),U(p,s.chosenClass,!0)},s.ignore.split(",").forEach(function(m){rn(p,m.trim(),Tt)}),A(c,"dragover",De),A(c,"mousemove",De),A(c,"touchmove",De),A(c,"mouseup",a._onDrop),A(c,"touchend",a._onDrop),A(c,"touchcancel",a._onDrop),$t&&this.nativeDraggable&&(this.options.touchStartThreshold=4,p.draggable=!0),H("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(We||de))){if(y.eventCanceled){this._onDrop();return}A(c,"mouseup",a._disableDelayedDrag),A(c,"touchend",a._disableDelayedDrag),A(c,"touchcancel",a._disableDelayedDrag),A(c,"mousemove",a._delayedDragTouchMoveHandler),A(c,"touchmove",a._delayedDragTouchMoveHandler),s.supportPointer&&A(c,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(f,s.delay)}else f()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){p&&Tt(p),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;T(e,"mouseup",this._disableDelayedDrag),T(e,"touchend",this._disableDelayedDrag),T(e,"touchcancel",this._disableDelayedDrag),T(e,"mousemove",this._delayedDragTouchMoveHandler),T(e,"touchmove",this._delayedDragTouchMoveHandler),T(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?A(document,"pointermove",this._onTouchMove):t?A(document,"touchmove",this._onTouchMove):A(document,"mousemove",this._onTouchMove):(A(p,"dragend",this),A(V,"dragstart",this._onDragStart));try{document.selection?it(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ae=!1,V&&p){H("dragStarted",this,{evt:t}),this.nativeDraggable&&A(document,"dragover",Zn);var n=this.options;!e&&U(p,n.dragClass,!1),U(p,n.ghostClass,!0),y.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Q){this._lastX=Q.clientX,this._lastY=Q.clientY,hn();for(var e=document.elementFromPoint(Q.clientX,Q.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Q.clientX,Q.clientY),e!==t);)t=e;if(p.parentNode[j]._isOutsideThisEl(e),t)do{if(t[j]){var n=void 0;if(n=t[j]._onDragOver({clientX:Q.clientX,clientY:Q.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);pn()}},_onTouchMove:function(e){if(_e){var t=this.options,n=t.fallbackTolerance,a=t.fallbackOffset,r=e.touches?e.touches[0]:e,s=S&&Ve(S,!0),c=S&&s&&s.a,f=S&&s&&s.d,d=Ze&&B&&Gt(B),m=(r.clientX-_e.clientX+a.x)/(c||1)+(d?d[0]-St[0]:0)/(c||1),g=(r.clientY-_e.clientY+a.y)/(f||1)+(d?d[1]-St[1]:0)/(f||1);if(!y.active&&!Ae){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(S){s?(s.e+=m-(_t||0),s.f+=g-(Dt||0)):s={a:1,b:0,c:0,d:1,e:m,f:g};var E="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");b(S,"webkitTransform",E),b(S,"mozTransform",E),b(S,"msTransform",E),b(S,"transform",E),_t=m,Dt=g,Q=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!S){var e=this.options.fallbackOnBody?document.body:V,t=M(p,!0,Ze,!0,e),n=this.options;if(Ze){for(B=e;b(B,"position")==="static"&&b(B,"transform")==="none"&&B!==document;)B=B.parentNode;B!==document.body&&B!==document.documentElement?(B===document&&(B=ae()),t.top+=B.scrollTop,t.left+=B.scrollLeft):B=ae(),St=Gt(B)}S=p.cloneNode(!0),U(S,n.ghostClass,!1),U(S,n.fallbackClass,!0),U(S,n.dragClass,!0),b(S,"transition",""),b(S,"transform",""),b(S,"box-sizing","border-box"),b(S,"margin",0),b(S,"top",t.top),b(S,"left",t.left),b(S,"width",t.width),b(S,"height",t.height),b(S,"opacity","0.8"),b(S,"position",Ze?"absolute":"fixed"),b(S,"zIndex","100000"),b(S,"pointerEvents","none"),y.ghost=S,e.appendChild(S),b(S,"transform-origin",Kt/parseInt(S.style.width)*100+"% "+Qt/parseInt(S.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,a=e.dataTransfer,r=n.options;if(H("dragStart",this,{evt:e}),y.eventCanceled){this._onDrop();return}H("setupClone",this),y.eventCanceled||(x=ln(p),x.removeAttribute("id"),x.draggable=!1,x.style["will-change"]="",this._hideClone(),U(x,this.options.chosenClass,!1),y.clone=x),n.cloneId=it(function(){H("clone",n),!y.eventCanceled&&(n.options.removeCloneOnHide||V.insertBefore(x,p),n._hideClone(),Y({sortable:n,name:"clone"}))}),!t&&U(p,r.dragClass,!0),t?(ot=!0,n._loopId=setInterval(n._emulateDragOver,50)):(T(document,"mouseup",n._onDrop),T(document,"touchend",n._onDrop),T(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(n,a,p)),A(document,"drop",n),b(p,"transform","translateZ(0)")),Ae=!0,n._dragStartId=it(n._dragStarted.bind(n,t,e)),A(document,"selectstart",n),Me=!0,qe&&b(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,a,r,s,c=this.options,f=c.group,d=y.active,m=Ke===f,g=c.sort,E=F||d,D,u=this,C=!1;if(Ot)return;function I(we,be){H(we,u,re({evt:e,isOwner:m,axis:D?"vertical":"horizontal",revert:s,dragRect:a,targetRect:r,canSort:g,fromSortable:E,target:n,completed:R,onMove:function($e,ft){return Je(V,t,p,a,$e,M($e),e,ft)},changed:L},be))}function G(){I("dragOverAnimationCapture"),u.captureAnimationState(),u!==E&&E.captureAnimationState()}function R(we){return I("dragOverCompleted",{insertion:we}),we&&(m?d._hideClone():d._showClone(u),u!==E&&(U(p,F?F.options.ghostClass:d.options.ghostClass,!1),U(p,c.ghostClass,!0)),F!==u&&u!==y.active?F=u:u===y.active&&F&&(F=null),E===u&&(u._ignoreWhileAnimating=n),u.animateAll(function(){I("dragOverAnimationComplete"),u._ignoreWhileAnimating=null}),u!==E&&(E.animateAll(),E._ignoreWhileAnimating=null)),(n===p&&!p.animated||n===t&&!n.animated)&&(Ie=null),!c.dragoverBubble&&!e.rootEl&&n!==document&&(p.parentNode[j]._isOutsideThisEl(e.target),!we&&De(e)),!c.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),C=!0}function L(){$=z(p),pe=z(p,c.draggable),Y({sortable:u,name:"change",toEl:t,newIndex:$,newDraggableIndex:pe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Z(n,c.draggable,t,!0),I("dragOver"),y.eventCanceled)return C;if(p.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||u._ignoreWhileAnimating===n)return R(!1);if(ot=!1,d&&!c.disabled&&(m?g||(s=P!==V):F===this||(this.lastPutMode=Ke.checkPull(this,d,p,e))&&f.checkPut(this,d,p,e))){if(D=this._getDirection(e,n)==="vertical",a=M(p),I("dragOverValid"),y.eventCanceled)return C;if(s)return P=V,G(),this._hideClone(),I("revert"),y.eventCanceled||(Se?V.insertBefore(p,Se):V.appendChild(p)),R(!0);var q=Lt(t,c.draggable);if(!q||ni(e,D,this)&&!q.animated){if(q===p)return R(!1);if(q&&t===e.target&&(n=q),n&&(r=M(n)),Je(V,t,p,a,n,r,e,!!n)!==!1)return G(),q&&q.nextSibling?t.insertBefore(p,q.nextSibling):t.appendChild(p),P=t,L(),R(!0)}else if(q&&ti(e,D,this)){var oe=xe(t,0,c,!0);if(oe===p)return R(!1);if(n=oe,r=M(n),Je(V,t,p,a,n,r,e,!1)!==!1)return G(),t.insertBefore(p,oe),P=t,L(),R(!0)}else if(n.parentNode===t){r=M(n);var W=0,J,se=p.parentNode!==t,X=!Kn(p.animated&&p.toRect||a,n.animated&&n.toRect||r,D),le=D?"top":"left",ee=zt(n,"top","top")||zt(p,"top","top"),ve=ee?ee.scrollTop:void 0;Ie!==n&&(J=r[le],He=!1,Qe=!X&&c.invertSwap||se),W=ii(e,n,r,D,X?1:c.swapThreshold,c.invertedSwapThreshold==null?c.swapThreshold:c.invertedSwapThreshold,Qe,Ie===n);var K;if(W!==0){var te=z(p);do te-=W,K=P.children[te];while(K&&(b(K,"display")==="none"||K===S))}if(W===0||K===n)return R(!1);Ie=n,Ye=W;var ue=n.nextElementSibling,ne=!1;ne=W===1;var Te=Je(V,t,p,a,n,r,e,ne);if(Te!==!1)return(Te===1||Te===-1)&&(ne=Te===1),Ot=!0,setTimeout(ei,30),G(),ne&&!ue?t.appendChild(p):n.parentNode.insertBefore(p,ne?ue:n),ee&&sn(ee,0,ve-ee.scrollTop),P=p.parentNode,J!==void 0&&!Qe&&(nt=Math.abs(J-M(n)[le])),L(),R(!0)}if(t.contains(p))return R(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){T(document,"mousemove",this._onTouchMove),T(document,"touchmove",this._onTouchMove),T(document,"pointermove",this._onTouchMove),T(document,"dragover",De),T(document,"mousemove",De),T(document,"touchmove",De)},_offUpEvents:function(){var e=this.el.ownerDocument;T(e,"mouseup",this._onDrop),T(e,"touchend",this._onDrop),T(e,"pointerup",this._onDrop),T(e,"touchcancel",this._onDrop),T(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if($=z(p),pe=z(p,n.draggable),H("drop",this,{evt:e}),P=p&&p.parentNode,$=z(p),pe=z(p,n.draggable),y.eventCanceled){this._nulling();return}Ae=!1,Qe=!1,He=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Vt(this.cloneId),Vt(this._dragStartId),this.nativeDraggable&&(T(document,"drop",this),T(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),qe&&b(document.body,"user-select",""),b(p,"transform",""),e&&(Me&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),S&&S.parentNode&&S.parentNode.removeChild(S),(V===P||F&&F.lastPutMode!=="clone")&&x&&x.parentNode&&x.parentNode.removeChild(x),p&&(this.nativeDraggable&&T(p,"dragend",this),Tt(p),p.style["will-change"]="",Me&&!Ae&&U(p,F?F.options.ghostClass:this.options.ghostClass,!1),U(p,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:P,newIndex:null,newDraggableIndex:null,originalEvent:e}),V!==P?($>=0&&(Y({rootEl:P,name:"add",toEl:P,fromEl:V,originalEvent:e}),Y({sortable:this,name:"remove",toEl:P,originalEvent:e}),Y({rootEl:P,name:"sort",toEl:P,fromEl:V,originalEvent:e}),Y({sortable:this,name:"sort",toEl:P,originalEvent:e})),F&&F.save()):$!==Oe&&$>=0&&(Y({sortable:this,name:"update",toEl:P,originalEvent:e}),Y({sortable:this,name:"sort",toEl:P,originalEvent:e})),y.active&&(($==null||$===-1)&&($=Oe,pe=Be),Y({sortable:this,name:"end",toEl:P,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){H("nulling",this),V=p=P=S=Se=x=tt=ge=_e=Q=Me=$=pe=Oe=Be=Ie=Ye=F=Ke=y.dragged=y.ghost=y.clone=y.active=null,lt.forEach(function(e){e.checked=!0}),lt.length=_t=Dt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":p&&(this._onDragOver(e),Jn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,a=0,r=n.length,s=this.options;a<r;a++)t=n[a],Z(t,s.draggable,this.el,!1)&&e.push(t.getAttribute(s.dataIdAttr)||ri(t));return e},sort:function(e,t){var n={},a=this.el;this.toArray().forEach(function(r,s){var c=a.children[s];Z(c,this.options.draggable,a,!1)&&(n[r]=c)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(a.removeChild(n[r]),a.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Z(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var a=Ue.modifyOption(this,e,t);typeof a<"u"?n[e]=a:n[e]=t,e==="group"&&dn(n)},destroy:function(){H("destroy",this);var e=this.el;e[j]=null,T(e,"mousedown",this._onTapStart),T(e,"touchstart",this._onTapStart),T(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(T(e,"dragover",this),T(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),st.splice(st.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ge){if(H("hideClone",this),y.eventCanceled)return;b(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),ge=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ge){if(H("showClone",this),y.eventCanceled)return;p.parentNode==V&&!this.options.group.revertClone?V.insertBefore(x,p):Se?V.insertBefore(x,Se):V.appendChild(x),this.options.group.revertClone&&this.animate(p,x),b(x,"display",""),ge=!1}}};function Jn(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Je(i,e,t,n,a,r,s,c){var f,d=i[j],m=d.options.onMove,g;return window.CustomEvent&&!de&&!We?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=e,f.from=i,f.dragged=t,f.draggedRect=n,f.related=a||e,f.relatedRect=r||M(e),f.willInsertAfter=c,f.originalEvent=s,i.dispatchEvent(f),m&&(g=m.call(d,f,s)),g}function Tt(i){i.draggable=!1}function ei(){Ot=!1}function ti(i,e,t){var n=M(xe(t.el,0,t.options,!0)),a=un(t.el,t.options,S),r=10;return e?i.clientX<a.left-r||i.clientY<n.top&&i.clientX<n.right:i.clientY<a.top-r||i.clientY<n.bottom&&i.clientX<n.left}function ni(i,e,t){var n=M(Lt(t.el,t.options.draggable)),a=un(t.el,t.options,S),r=10;return e?i.clientX>a.right+r||i.clientY>n.bottom&&i.clientX>n.left:i.clientY>a.bottom+r||i.clientX>n.right&&i.clientY>n.top}function ii(i,e,t,n,a,r,s,c){var f=n?i.clientY:i.clientX,d=n?t.height:t.width,m=n?t.top:t.left,g=n?t.bottom:t.right,E=!1;if(!s){if(c&&nt<d*a){if(!He&&(Ye===1?f>m+d*r/2:f<g-d*r/2)&&(He=!0),He)E=!0;else if(Ye===1?f<m+nt:f>g-nt)return-Ye}else if(f>m+d*(1-a)/2&&f<g-d*(1-a)/2)return ai(e)}return E=E||s,E&&(f<m+d*r/2||f>g-d*r/2)?f>m+d/2?1:-1:0}function ai(i){return z(p)<z(i)?1:-1}function ri(i){for(var e=i.tagName+i.className+i.src+i.href+i.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function oi(i){lt.length=0;for(var e=i.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&lt.push(n)}}function it(i){return setTimeout(i,0)}function Vt(i){return clearTimeout(i)}ct&&A(document,"touchmove",function(i){(y.active||Ae)&&i.cancelable&&i.preventDefault()});y.utils={on:A,off:T,css:b,find:rn,is:function(e,t){return!!Z(e,t,e,!1)},extend:Yn,throttle:on,closest:Z,toggleClass:U,clone:ln,index:z,nextTick:it,cancelNextTick:Vt,detectDirection:fn,getChild:xe};y.get=function(i){return i[j]};y.mount=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(y.utils=re(re({},y.utils),n.utils)),Ue.mount(n)})};y.create=function(i,e){return new y(i,e)};y.version=qn;var N=[],ke,xt,Pt=!1,Ct,It,ut,Fe;function si(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return i.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):this.options.supportPointer?A(document,"pointermove",this._handleFallbackAutoScroll):n.touches?A(document,"touchmove",this._handleFallbackAutoScroll):A(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):(T(document,"pointermove",this._handleFallbackAutoScroll),T(document,"touchmove",this._handleFallbackAutoScroll),T(document,"mousemove",this._handleFallbackAutoScroll)),Jt(),at(),Hn()},nulling:function(){ut=xt=ke=Pt=Fe=Ct=It=null,N.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var a=this,r=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,c=document.elementFromPoint(r,s);if(ut=t,n||this.options.forceAutoScrollFallback||We||de||qe){At(t,this.options,c,n);var f=me(c,!0);Pt&&(!Fe||r!==Ct||s!==It)&&(Fe&&Jt(),Fe=setInterval(function(){var d=me(document.elementFromPoint(r,s),!0);d!==f&&(f=d,at()),At(t,a.options,d,n)},10),Ct=r,It=s)}else{if(!this.options.bubbleScroll||me(c,!0)===ae()){at();return}At(t,this.options,me(c,!1),!1)}}},fe(i,{pluginName:"scroll",initializeByDefault:!0})}function at(){N.forEach(function(i){clearInterval(i.pid)}),N=[]}function Jt(){clearInterval(Fe)}var At=on(function(i,e,t,n){if(e.scroll){var a=(i.touches?i.touches[0]:i).clientX,r=(i.touches?i.touches[0]:i).clientY,s=e.scrollSensitivity,c=e.scrollSpeed,f=ae(),d=!1,m;xt!==t&&(xt=t,at(),ke=e.scroll,m=e.scrollFn,ke===!0&&(ke=me(t,!0)));var g=0,E=ke;do{var D=E,u=M(D),C=u.top,I=u.bottom,G=u.left,R=u.right,L=u.width,q=u.height,oe=void 0,W=void 0,J=D.scrollWidth,se=D.scrollHeight,X=b(D),le=D.scrollLeft,ee=D.scrollTop;D===f?(oe=L<J&&(X.overflowX==="auto"||X.overflowX==="scroll"||X.overflowX==="visible"),W=q<se&&(X.overflowY==="auto"||X.overflowY==="scroll"||X.overflowY==="visible")):(oe=L<J&&(X.overflowX==="auto"||X.overflowX==="scroll"),W=q<se&&(X.overflowY==="auto"||X.overflowY==="scroll"));var ve=oe&&(Math.abs(R-a)<=s&&le+L<J)-(Math.abs(G-a)<=s&&!!le),K=W&&(Math.abs(I-r)<=s&&ee+q<se)-(Math.abs(C-r)<=s&&!!ee);if(!N[g])for(var te=0;te<=g;te++)N[te]||(N[te]={});(N[g].vx!=ve||N[g].vy!=K||N[g].el!==D)&&(N[g].el=D,N[g].vx=ve,N[g].vy=K,clearInterval(N[g].pid),(ve!=0||K!=0)&&(d=!0,N[g].pid=setInterval((function(){n&&this.layer===0&&y.active._onTouchMove(ut);var ue=N[this.layer].vy?N[this.layer].vy*c:0,ne=N[this.layer].vx?N[this.layer].vx*c:0;typeof m=="function"&&m.call(y.dragged.parentNode[j],ne,ue,i,ut,N[this.layer].el)!=="continue"||sn(N[this.layer].el,ne,ue)}).bind({layer:g}),24))),g++}while(e.bubbleScroll&&E!==f&&(E=me(E,!1)));Pt=d}},30),gn=function(e){var t=e.originalEvent,n=e.putSortable,a=e.dragEl,r=e.activeSortable,s=e.dispatchSortableEvent,c=e.hideGhostForTarget,f=e.unhideGhostForTarget;if(t){var d=n||r;c();var m=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,g=document.elementFromPoint(m.clientX,m.clientY);f(),d&&!d.el.contains(g)&&(s("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function Rt(){}Rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=xe(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:gn};fe(Rt,{pluginName:"revertOnSpill"});function Nt(){}Nt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:gn};fe(Nt,{pluginName:"removeOnSpill"});y.mount(new si);y.mount(Nt,Rt);const li=["data-url","onContextmenu","onMousedown","onClick"],ui={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont"},ci=en({name:"layoutTagsView"}),fi=en({...ci,setup(i){const e=Rn(()=>bn(()=>import("./contextmenu.15737bd6.js"),["assets/contextmenu.15737bd6.js","assets/vue.5d8927be.js","assets/_plugin-vue_export-helper.c27b6911.js","assets/contextmenu.b1be0632.css"])),t=Ge([]),n=Ge(),a=Ge(),r=Ge(),s=Ft(),c=mn(),f=Ft(),{themeConfig:d}=Bt(c),{tagsViewRoutes:m}=Bt(f),g=vn(),E=En(),D=_n(),u=Dn({routeActive:"",routePath:E.path,dropdown:{x:"",y:""},sortable:"",tagsRefsIndex:0,tagsViewList:[],tagsViewRoutesList:[]}),C=gt(()=>d.value.tagsStyle),I=gt(()=>d.value),G=gt(()=>l=>qt.setTagsViewNameI18n(l)),R=l=>I.value.isShareTagsView?l.path===u.routePath:l.query&&Object.keys(l.query).length||l.params&&Object.keys(l.params).length?l.url?l.url===u.routeActive:l.path===u.routeActive:l.path===u.routePath,L=l=>{Ee.set("tagsViewList",l)},q=async()=>{u.routeActive=await ie(E),u.routePath=await E.meta.isDynamic?E.meta.isDynamicPath:E.path,u.tagsViewList=[],u.tagsViewRoutesList=m.value,oe()},oe=async()=>{Ee.get("tagsViewList")&&I.value.isCacheTagsView?u.tagsViewList=await Ee.get("tagsViewList"):(await u.tagsViewRoutesList.map(l=>{var o;(o=l.meta)!=null&&o.isAffix&&!l.meta.isHide&&(l.url=ie(l),u.tagsViewList.push({...l}),g.addCachedView(l))}),await se(E.path,E)),Mt(I.value.isShareTagsView?u.routePath:u.routeActive)},W=async(l,o)=>{var v,O;let h=(v=o==null?void 0:o.meta)!=null&&v.isDynamic?o.meta.isDynamicPath:l;if(u.tagsViewList.filter(_=>{var k,Pe;return _.path===h&&Xt((k=o==null?void 0:o.meta)!=null&&k.isDynamic?_.params?_.params:null:_.query?_.query:null,(Pe=o==null?void 0:o.meta)!=null&&Pe.isDynamic?o!=null&&o.params?o==null?void 0:o.params:null:o!=null&&o.query?o==null?void 0:o.query:null)}).length<=0){let _=u.tagsViewRoutesList.find(k=>k.path===h);if(!_||_.meta.isAffix||_.meta.isLink&&!_.meta.isIframe)return!1;(O=o==null?void 0:o.meta)!=null&&O.isDynamic?_.params=o.params:_.query=o==null?void 0:o.query,_.url=ie(_),u.tagsViewList.push({..._}),await g.addCachedView(_),L(u.tagsViewList)}},J=(l,o)=>{var w;let h=(w=o==null?void 0:o.meta)!=null&&w.isDynamic?o.meta.isDynamicPath:l;u.tagsViewList.forEach(v=>{var O,_,k;v.path===h&&!Xt((O=o==null?void 0:o.meta)!=null&&O.isDynamic?v.params?v.params:null:v.query?v.query:null,(_=o==null?void 0:o.meta)!=null&&_.isDynamic?o!=null&&o.params?o==null?void 0:o.params:null:o!=null&&o.query?o==null?void 0:o.query:null)&&((k=o==null?void 0:o.meta)!=null&&k.isDynamic?v.params=o.params:v.query=o==null?void 0:o.query,v.url=ie(v),L(u.tagsViewList))})},se=(l,o)=>{bt(async()=>{var w,v,O;let h;if((w=o==null?void 0:o.meta)!=null&&w.isDynamic){if(I.value.isShareTagsView?await J(l,o):await W(l,o),u.tagsViewList.some(_=>{var k;return _.path===((k=o==null?void 0:o.meta)==null?void 0:k.isDynamicPath)}))return L(u.tagsViewList),!1;h=u.tagsViewRoutesList.find(_=>{var k;return _.path===((k=o==null?void 0:o.meta)==null?void 0:k.isDynamicPath)})}else{if(I.value.isShareTagsView?await J(l,o):await W(l,o),u.tagsViewList.some(_=>_.path===l))return L(u.tagsViewList),!1;h=u.tagsViewRoutesList.find(_=>_.path===l)}if(!h||(v=h==null?void 0:h.meta)!=null&&v.isLink&&!h.meta.isIframe)return!1;(O=o==null?void 0:o.meta)!=null&&O.isDynamic?h.params=o!=null&&o.params?o==null?void 0:o.params:E.params:h.query=o!=null&&o.query?o==null?void 0:o.query:E.query,h.url=ie(h),await g.addCachedView(h),await u.tagsViewList.push({...h}),await L(u.tagsViewList)})},X=async l=>{var w;const o=decodeURI(l);let h={};if(u.tagsViewList.forEach(v=>{v.transUrl=be(v),v.transUrl?v.transUrl===be(v)&&(h=v):v.path===o&&(h=v)}),!h)return!1;await g.delCachedView(h),ye.emit("onTagsViewRefreshRouterView",l),(w=h.meta)!=null&&w.isKeepAlive&&g.addCachedView(h)},le=l=>{u.tagsViewList.map((o,h,w)=>{var v;(v=o.meta)!=null&&v.isAffix||(I.value.isShareTagsView?o.path===l:o.url===l)&&(g.delCachedView(o),u.tagsViewList.splice(h,1),setTimeout(()=>{(u.tagsViewList.length===h&&I.value.isShareTagsView?u.routePath===l:u.routeActive===l)?w[w.length-1].meta.isDynamic?h!==w.length?D.push({name:w[h].name,params:w[h].params}):D.push({name:w[w.length-1].name,params:w[w.length-1].params}):h!==w.length?D.push({path:w[h].path,query:w[h].query}):D.push({path:w[w.length-1].path,query:w[w.length-1].query}):(u.tagsViewList.length!==h&&I.value.isShareTagsView?u.routePath===l:u.routeActive===l)&&(w[h].meta.isDynamic?D.push({name:w[h].name,params:w[h].params}):D.push({path:w[h].path,query:w[h].query}))},0))}),L(u.tagsViewList)},ee=l=>{Ee.get("tagsViewList")&&(u.tagsViewList=[],Ee.get("tagsViewList").map(o=>{var h;(h=o.meta)!=null&&h.isAffix&&!o.meta.isHide&&(o.url=ie(o),g.delOthersCachedViews(o),u.tagsViewList.push({...o}))}),se(l,E),L(u.tagsViewList))},ve=()=>{Ee.get("tagsViewList")&&(g.delAllCachedViews(),u.tagsViewList=[],Ee.get("tagsViewList").map(l=>{var o;(o=l.meta)!=null&&o.isAffix&&!l.meta.isHide&&(l.url=ie(l),u.tagsViewList.push({...l}),D.push({path:u.tagsViewList[u.tagsViewList.length-1].path}))}),L(u.tagsViewList))},K=async l=>{const o=u.tagsViewList.find(h=>I.value.isShareTagsView?h.path===l:h.url===l);o.meta.isDynamic?await D.push({name:o.name,params:o.params}):await D.push({name:o.name,query:o.query}),s.setCurrenFullscreen(!0)},te=l=>{let o={};return u.tagsViewList.forEach(h=>{h.transUrl=be(h),h.transUrl?h.transUrl===be(h)&&h.transUrl===l.commonUrl&&(o=h):h.path===decodeURI(l.path)&&(o=h)}),o||null},ue=async l=>{if(l.commonUrl=be(l),!te(l))return yn({type:"warning",message:"请正确输入路径及完整参数（query、params）"});const{path:o,name:h,params:w,query:v,meta:O,url:_}=te(l);switch(l.contextMenuClickId){case 0:O.isDynamic?await D.push({name:h,params:w}):await D.push({path:o,query:v}),X(E.fullPath);break;case 1:le(I.value.isShareTagsView?o:_);break;case 2:O.isDynamic?await D.push({name:h,params:w}):await D.push({path:o,query:v}),ee(o);break;case 3:ve();break;case 4:K(I.value.isShareTagsView?o:_);break}},ne=(l,o)=>{const{clientX:h,clientY:w}=o;u.dropdown.x=h,u.dropdown.y=w,a.value.openContextmenu(l)},Te=(l,o)=>{var h;if(!((h=l.meta)!=null&&h.isAffix)&&o.button===1){const w=Object.assign({},{contextMenuClickId:1,...l});ue(w)}},we=(l,o)=>{u.tagsRefsIndex=o,D.push(l)},be=l=>{var w,v;let o=l.query&&Object.keys(l.query).length>0?l.query:l.params;if(!o)return"";let h="";for(let[O,_]of Object.entries(o))(w=l.meta)!=null&&w.isDynamic?h+=`/${_}`:h+=`&${O}=${_}`;return(v=l.meta)!=null&&v.isDynamic?l.isFnClick?decodeURI(l.path):`${l.path.split(":")[0]}${h.replace(/^\//,"")}`:`${l.path}${h.replace(/^&/,"?")}`},ie=l=>{var w;let o=l.query&&Object.keys(l.query).length>0?l.query:l.params;if(!o||Object.keys(o).length<=0)return l.path;let h="";for(let v in o)h+=o[v];return`${(w=l.meta)!=null&&w.isDynamic?l.meta.isDynamicPath:l.path}-${h}`},$e=l=>{n.value.$refs.wrapRef.scrollLeft+=l.wheelDelta/4},ft=()=>{bt(()=>{if(t.value.length<=0)return!1;let l=t.value[u.tagsRefsIndex],o=u.tagsRefsIndex,h=t.value.length,w=t.value[0],v=t.value[t.value.length-1],O=n.value.$refs.wrapRef,_=O.scrollWidth,k=O.offsetWidth,Pe=O.scrollLeft,pt=t.value[u.tagsRefsIndex-1],kt=t.value[u.tagsRefsIndex+1],je=0,ze=0;l===w?O.scrollLeft=0:l===v?O.scrollLeft=_-k:(o===0?je=w.offsetLeft-5:je=(pt==null?void 0:pt.offsetLeft)-5,o===h?ze=v.offsetLeft+v.offsetWidth+5:ze=kt.offsetLeft+kt.offsetWidth+5,ze>Pe+k?O.scrollLeft=ze-k:je<Pe&&(O.scrollLeft=je)),n.value.update()})},Mt=l=>{bt(async()=>{let o=await u.tagsViewList;u.tagsRefsIndex=o.findIndex(h=>I.value.isShareTagsView?h.path===l:h.url===l),ft()})},dt=async()=>{const l=document.querySelector(".layout-navbars-tagsview-ul");if(!l)return!1;u.sortable.el&&u.sortable.destroy(),u.sortable=y.create(l,{animation:300,dataIdAttr:"data-url",disabled:!I.value.isSortableTagsView,onEnd:()=>{const o=[];u.sortable.toArray().map(h=>{u.tagsViewList.map(w=>{w.url===h&&o.push({...w})})}),L(o)}})},ht=async()=>{await dt(),qt.isMobile()&&u.sortable.el&&u.sortable.destroy()};return Sn(()=>{ht(),window.addEventListener("resize",ht),ye.on("onCurrentContextmenuClick",l=>{l.isFnClick=!0,ue(l)}),ye.on("openOrCloseSortable",()=>{dt()}),ye.on("openShareTagsView",()=>{I.value.isShareTagsView&&(D.push("/home"),u.tagsViewList=[],u.tagsViewRoutesList.map(l=>{var o;(o=l.meta)!=null&&o.isAffix&&!l.meta.isHide&&(l.url=ie(l),u.tagsViewList.push({...l}))}))})}),Tn(()=>{ye.off("onCurrentContextmenuClick",()=>{}),ye.off("openOrCloseSortable",()=>{}),ye.off("openShareTagsView",()=>{}),window.removeEventListener("resize",ht)}),Cn(()=>{t.value=[]}),In(()=>{q(),dt()}),An(async l=>{u.routeActive=ie(l),u.routePath=l.meta.isDynamic?l.meta.isDynamicPath:l.path,await se(l.path,l),Mt(I.value.isShareTagsView?u.routePath:u.routeActive)}),On(wn.state,l=>{if(l.tagsViewRoutes.tagsViewRoutes.length===u.tagsViewRoutesList.length)return!1;q()},{deep:!0}),(l,o)=>{const h=Yt("SvgIcon"),w=Yt("el-scrollbar");return he(),Le("div",{class:vt(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":I.value.layout==="classic"}])},[mt(w,{ref_key:"scrollbarRef",ref:n,onWheel:Re($e,["prevent"])},{default:Vn(()=>[Ht("ul",{class:vt(["layout-navbars-tagsview-ul",C.value]),ref_key:"tagsUlRef",ref:r},[(he(!0),Le(Wt,null,xn(u.tagsViewList,(v,O)=>(he(),Le("li",{key:O,class:vt(["layout-navbars-tagsview-ul-li",{"is-active":R(v)}]),"data-url":v.url,onContextmenu:Re(_=>ne(v,_),["prevent"]),onMousedown:_=>Te(v,_),onClick:_=>we(v,O),ref_for:!0,ref:_=>{_&&(t.value[O]=_)}},[R(v)?(he(),Le("i",ui)):Ne("",!0),!R(v)&&I.value.isTagsviewIcon?(he(),wt(h,{key:1,name:v.meta.icon,class:"pr5"},null,8,["name"])):Ne("",!0),Ht("span",null,Pn(G.value(v)),1),R(v)?(he(),Le(Wt,{key:2},[mt(h,{name:"ele-RefreshRight",class:"ml5 layout-navbars-tagsview-ul-li-refresh",onClick:o[0]||(o[0]=Re(_=>X(l.$route.fullPath),["stop"]))}),v.meta.isAffix?Ne("",!0):(he(),wt(h,{key:0,name:"ele-Close",class:"layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:Re(_=>le(I.value.isShareTagsView?v.path:v.url),["stop"])},null,8,["onClick"]))],64)):Ne("",!0),v.meta.isAffix?Ne("",!0):(he(),wt(h,{key:3,name:"ele-Close",class:"layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:Re(_=>le(I.value.isShareTagsView?v.path:v.url),["stop"])},null,8,["onClick"]))],42,li))),128))],2)]),_:1},512),mt(Ln(e),{dropdown:u.dropdown,ref_key:"contextmenuRef",ref:a,onCurrentContextmenuClick:ue},null,8,["dropdown"])],2)}}});const gi=Nn(fi,[["__scopeId","data-v-ce4262a4"]]);export{gi as default};
