import{a6 as D,u as I,b as N,e as l,a7 as O,_ as C}from"./index.acfe672b.js";import{a as A,r as P,aD as d,a0 as q,m as b,I as z,w as L,ak as g,S as H,Y as $,u as m,o as S,c as j,X as f,R as F,Q,U,L as X,aA as w}from"./vue.5d8927be.js";const Y={class:"h100"},G=A({name:"layoutAside"}),ee=A({...G,setup(J){const R=w(()=>C(()=>import("./index.9af0a583.js"),["assets/index.9af0a583.js","assets/vue.5d8927be.js","assets/index.acfe672b.js","assets/index.5945f24a.css","assets/lodash.b8574b89.js","assets/_plugin-vue_export-helper.c27b6911.js","assets/index.2bf81522.css"])),T=w(()=>C(()=>import("./vertical.1eb801ab.js"),["assets/vertical.1eb801ab.js","assets/index.acfe672b.js","assets/vue.5d8927be.js","assets/index.5945f24a.css"])),n=P(),p=D(),M=I(),B=N(),{routesList:E}=d(p),{themeConfig:a}=d(M),{isTagsViewCurrenFull:V}=d(B),i=q({menuList:[],clientWidth:0}),W=b(()=>{const{layout:e,isCollapse:t,menuBar:s}=a.value,o=["#FFFFFF","#FFF","#fff","#ffffff"].includes(s)?"layout-el-aside-br-color":"";if(i.clientWidth<=1e3)if(t){document.body.setAttribute("class","el-popup-parent--hidden");const x=document.querySelector(".layout-container"),c=document.createElement("div");return c.setAttribute("class","layout-aside-mobile-mode"),x.appendChild(c),c.addEventListener("click",u),[o,"layout-aside-mobile","layout-aside-mobile-open"]}else return u(),[o,"layout-aside-mobile","layout-aside-mobile-close"];else return e==="columns"?t?[o,"layout-aside-pc-1"]:[o,"layout-aside-pc-220"]:t?[o,"layout-aside-pc-64"]:[o,"layout-aside-pc-220"]}),k=b(()=>{let{layout:e,isShowLogo:t}=a.value;return t&&e==="defaults"||t&&e==="columns"}),u=()=>{const e=document.querySelector(".layout-aside-mobile-mode");e==null||e.setAttribute("style","animation: error-img-two 0.3s"),setTimeout(()=>{var s;(s=e==null?void 0:e.parentNode)==null||s.removeChild(e)},300),document.body.clientWidth<1e3&&(a.value.isCollapse=!1),document.body.setAttribute("class","")},r=()=>{if(a.value.layout==="columns")return!1;i.menuList=y(E.value)},y=e=>e.filter(t=>{var s;return!((s=t.meta)!=null&&s.isHide)}).map(t=>(t=Object.assign({},t),t.children&&(t.children=y(t.children)),t)),h=e=>{i.clientWidth=e},_=e=>{let{layout:t}=a.value;if(t!=="columns")return!1;e||l.emit("restoreDefault"),p.setColumnsMenuHover(e)};return z(()=>{h(document.body.clientWidth),r(),l.on("setSendColumnsChildren",e=>{i.menuList=e.children}),l.on("setSendClassicChildren",e=>{let{layout:t,isClassicSplitMenu:s}=a.value;t==="classic"&&s&&(i.menuList=[],i.menuList=e.children)}),l.on("getBreadcrumbIndexSetFilterRoutes",()=>{r()}),l.on("layoutMobileResize",e=>{h(e.clientWidth),u()})}),L(a.value,e=>{e.isShowLogoChange!==e.isShowLogo&&n.value&&n.value.update()}),L(O.state,e=>{let{layout:t,isClassicSplitMenu:s}=e.themeConfig.themeConfig;if(t==="classic"&&s)return!1;r()},{deep:!0}),(e,t)=>{const s=g("el-scrollbar"),v=g("el-aside");return H((S(),j("div",Y,[f(v,{class:X(["layout-aside",W.value])},{default:F(()=>[k.value?(S(),Q(m(R),{key:0})):U("",!0),f(s,{class:"flex-auto",ref_key:"layoutAsideScrollbarRef",ref:n,onMouseenter:t[0]||(t[0]=o=>_(!0)),onMouseleave:t[1]||(t[1]=o=>_(!1))},{default:F(()=>[f(m(T),{menuList:i.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[$,!m(V)]])}}});export{ee as default};
